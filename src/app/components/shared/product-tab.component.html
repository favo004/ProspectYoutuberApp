<div class="card">
    <div class="product card-body">
        <div class="text-center p-1">
            <img [src]="getProductImage(product)" class="card-img-top" [title]="product?.name">        </div>
        <h5 class="card-title p-2">
            <i *ngIf="isPopularProduct(product)" class="fa fa-fire" style="color:red;" title="Hot Item"></i>
            <a *ngIf="product" [routerLink]="['/merch', product.id,'details']">{{product?.name}}</a>
        </h5>
        <p class="card-text p-2" style="font-weight: bold">{{ product?.price | currency }}</p>
    </div>
    <div class="card-footer text-right">
        <div *ngIf="canAddToCart">
            <form [formGroup]="productForm">
                <div class="form-group">
                    <label class="sr-only" for="quantityFormInput">Quantity</label>
                    <div class="input-group m-1">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Quantity: </div>
                        </div>
                        <select class="form-control" formControlName="quantity">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>10</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-outline-primary" (click)="addToCart(product.id)" [disabled]="!productForm.valid"
                    [title]="!productForm.valid ? 'Please select a quantity to add to cart' : 'Add to cart'">
                    Add To Cart
                </button>
            </form>
        </div>
        <div *ngIf="!canAddToCart">
            <a role="button" class="btn btn-outline-primary" [routerLink]="['/login']">
                Login to buy this item!
            </a>
        </div>
        <div *ngIf="message">
            <p style="color:green; margin-top:15px">{{ message }}</p>
        </div>

    </div>
</div>